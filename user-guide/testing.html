<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2015-06-14
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Nicolas de Loof
Olivier Lamy" />
    <meta name="Date-Creation-yyyymmdd" content="20101126" />
    <meta name="Date-Revision-yyyymmdd" content="20150614" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Mojo's Maven Plugin for GWT &#x2013; Testing Support</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="../.." id="bannerLeft">
                                                                                                <img src="../../images/mojo_logo.png"  alt="Mojo"/>
                </a>
                      </div>
        <div class="pull-right">                  <a href="http://github.com/gwt-maven-plugin/gwt-maven-plugin" id="bannerRight">
                                                                                        <img src="http://gwt-maven-plugin.github.com/gwt-maven-plugin/images/gwt-maven-logo.png"  alt="Github"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                              <li class="">
                    <a href="http://codehaus.org/" class="externalLink" title="Codehaus">
        Codehaus</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href="http://mojo.codehaus.org/" class="externalLink" title="Mojo">
        Mojo</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href="../" title="Mojo's Maven Plugin for GWT">
        Mojo's Maven Plugin for GWT</a>
        </li>
      <li class="divider ">/</li>
        <li class="">Testing Support</li>
        
                
                    
                  <li id="publishDate" class="pull-right">Last Published: 2015-06-14</li> <li class="divider pull-right">|</li>
              <li id="projectVersion" class="pull-right">Version: 2.8.0-SNAPSHOT</li>
            
                                            <li class="divider pull-right">|</li>
                        
    <li class="pull-right">              <a href="https://developers.google.com/eclipse/" class="externalLink" title="Google Plugin for Eclipse">
        Google Plugin for Eclipse</a>
  </li>

        <li class="divider pull-right">|</li>
      
    <li class="pull-right">              <a href="http://www.gwtproject.org/" class="externalLink" title="GWT Project">
        GWT Project</a>
  </li>

        <li class="divider pull-right">|</li>
      
    <li class="pull-right">              <a href="http://maven.apache.org/" class="externalLink" title="Maven">
        Maven</a>
  </li>

                        </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">User Guide</li>
                                
      <li>
    
                          <a href="../index.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                  
      <li>
    
                          <a href="../whats_new.html" title="What's new in 2.8.0-SNAPSHOT">
          <i class="none"></i>
        What's new in 2.8.0-SNAPSHOT</a>
            </li>
                  
      <li>
    
                          <a href="../user-guide/archetype.html" title="Using the archetype">
          <i class="none"></i>
        Using the archetype</a>
            </li>
                  
      <li>
    
                          <a href="../user-guide/project.html" title="Project organization">
          <i class="none"></i>
        Project organization</a>
            </li>
                  
      <li>
    
                          <a href="../user-guide/compile.html" title="Compile and Debug">
          <i class="none"></i>
        Compile and Debug</a>
            </li>
                  
      <li>
    
                          <a href="../user-guide/i18n.html" title="Internationalization">
          <i class="none"></i>
        Internationalization</a>
            </li>
                  
      <li class="active">
    
            <a href="#"><i class="none"></i>Testing</a>
          </li>
                  
      <li>
    
                          <a href="../user-guide/hosted.html" title="Run Dev Mode">
          <i class="none"></i>
        Run Dev Mode</a>
            </li>
                  
      <li>
    
                          <a href="../user-guide/async.html" title="Async interfaces">
          <i class="none"></i>
        Async interfaces</a>
            </li>
                  
      <li>
    
                          <a href="../user-guide/comfortable_debugging.html" title="Comfortable debugging">
          <i class="none"></i>
        Comfortable debugging</a>
            </li>
                  
      <li>
    
                          <a href="../user-guide/productivity.html" title="Productivity Tips">
          <i class="none"></i>
        Productivity Tips</a>
            </li>
                  
      <li>
    
                          <a href="../user-guide/appengine-launcher.html" title="Using AppEngine launcher in dev mode">
          <i class="none"></i>
        Using AppEngine launcher in dev mode</a>
            </li>
                  
      <li>
    
                          <a href="../user-guide/css-interface-generator.html" title="Using the CSS Interface Generator">
          <i class="none"></i>
        Using the CSS Interface Generator</a>
            </li>
                  
      <li>
    
                          <a href="../eclipse/google_plugin.html" title="Google Plugin for Eclipse">
          <i class="none"></i>
        Google Plugin for Eclipse</a>
            </li>
                  
      <li>
    
                          <a href="../user-guide/library.html" title="Writing a Library">
          <i class="none"></i>
        Writing a Library</a>
            </li>
                  
      <li>
    
                          <a href="../user-guide/compiler-report.html" title="Compiler Report">
          <i class="none"></i>
        Compiler Report</a>
            </li>
                  
      <li>
    
                          <a href="../user-guide/remoteservicerelativepath-annotation.html" title="Processing Annotation @RemoteServiceRelativePath">
          <i class="none"></i>
        Processing Annotation @RemoteServiceRelativePath</a>
            </li>
                  
      <li>
    
                          <a href="../user-guide/using-different-gwt-sdk-version.html" title="Using a different GWT SDK Version">
          <i class="none"></i>
        Using a different GWT SDK Version</a>
            </li>
                              <li class="nav-header">Reference</li>
                                
      <li>
    
                          <a href="../plugin-info.html" title="Goals">
          <i class="none"></i>
        Goals</a>
            </li>
                  
      <li>
    
                          <a href="../faq.html" title="FAQ">
          <i class="none"></i>
        FAQ</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                        
      <li>
    
                          <a href="../project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                                                                                                                                                                      
      <li>
    
                          <a href="../project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                            <form id="search-form" action="http://www.google.com/search" method="get" >
    
  <input value="mojo.codehaus.org" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=search-form"></script>
          
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <!-- Licensed to the Apache Software Foundation (ASF) under one --><!-- or more contributor license agreements.  See the NOTICE file --><!-- distributed with this work for additional information --><!-- regarding copyright ownership.  The ASF licenses this file --><!-- to you under the Apache License, Version 2.0 (the --><!-- "License"); you may not use this file except in compliance --><!-- with the License.  You may obtain a copy of the License at --><!--  --><!-- http://www.apache.org/licenses/LICENSE-2.0 --><!--  --><!-- Unless required by applicable law or agreed to in writing, --><!-- software distributed under the License is distributed on an --><!-- "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY --><!-- KIND, either express or implied.  See the License for the --><!-- specific language governing permissions and limitations --><!-- under the License. --><!-- NOTE: For help with the syntax of this file, see: --><!-- http://maven.apache.org/doxia/references/apt-format.html --><div class="section">
<h2><a name="Testing_GWT_code_with_Maven"></a>Testing GWT code with Maven</h2>
<p>One special aspect of gwt-maven-plugin to be familiar with is that it runs its own special <tt>test</tt> goal in order to support <tt>GWTTestCase</tt> and <tt>GWTTestSuite</tt> derived GWT tests. If you're not familiar with GWT testing support you should first read the related <a class="externalLink" href="http://www.gwtproject.org/articles/testing_methodologies_using_gwt">documentation</a>.</p>
<p>We do not consider GWTTestCase to be unit test as they require the whole GWT Module to run. For this reason, the <tt>test</tt> goal is bound by default to <tt>integration-test</tt> phase. But this is only our point of view and you may want to run such test during the standard <tt>test</tt> phase, and maybe use a profile and naming convention to execute such tests on demand.</p>
<p>Another option is to <a class="externalLink" href="http://www.google.com/events/io/2009/sessions/GoogleWebToolkitBestPractices.html">use the MVP design pattern</a> to keep your code and UI components separated. In such case, GWT <a class="externalLink" href="http://google-web-toolkit.googlecode.com/svn/javadoc/latest/com/google/gwt/junit/GWTMockUtilities.java">MockUtilities</a> will help you disable Defered Binding (that requires a full GWT stack) and use mock components.</p>
<div class="section">
<h3><a name="Using_Surefire"></a>Using Surefire</h3>
<p>It's a long story as to why a dedicated <tt>gwt:test</tt> is needed, but in few words the regular Maven Surefire testing plugin requires some complex setup to work fine with GWTTestSuites. If you really want to do so, here is a sample configuration :</p>
<div class="source">
<pre>  &lt;plugin&gt;
    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
    &lt;version&gt;2.6&lt;/version&gt;
    &lt;configuration&gt;
      &lt;additionalClasspathElements&gt;
        &lt;additionalClasspathElement&gt;${project.build.sourceDirectory}&lt;/additionalClasspathElement&gt;
        &lt;additionalClasspathElement&gt;${project.build.testSourceDirectory}&lt;/additionalClasspathElement&gt;
      &lt;/additionalClasspathElements&gt;
      &lt;useManifestOnlyJar&gt;false&lt;/useManifestOnlyJar&gt;
      &lt;forkMode&gt;always&lt;/forkMode&gt;
      &lt;systemProperties&gt;
        &lt;property&gt;
          &lt;name&gt;gwt.args&lt;/name&gt;
          &lt;value&gt;-out ${webAppDirectory}&lt;/value&gt;
        &lt;/property&gt;
      &lt;/systemProperties&gt;
    &lt;/configuration&gt;
  &lt;/plugin&gt;</pre></div></div>
<div class="section">
<h3><a name="Using_gwt-maven-plugin_test_goal"></a>Using gwt-maven-plugin <tt>test</tt> goal</h3>
<p>The gwt-maven-plugin testing support is <b>not</b> intended to be run standalone, rather it is bound to the Maven <tt>integration-test</tt> phase. To get <tt>gwt:test</tt> to run, you should include the <tt>test</tt> goal in your plugin configuration executions, and you should invoke <tt>mvn verify</tt> (or <tt>mvn install</tt>).</p>
<div class="source">
<pre>&lt;project&gt;
  [...]
  &lt;build&gt;
    &lt;plugins&gt;
      [...]
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
        &lt;artifactId&gt;gwt-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;2.8.0-SNAPSHOT&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;goals&gt;
              &lt;goal&gt;test&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
      &lt;/plugin&gt;
      [...]
    &lt;/plugins&gt;
  &lt;/build&gt;
  [...]
&lt;/project&gt;</pre></div></div>
<div class="section">
<h3><a name="Separate_GwtTest_tests_from_standard_unit_tests"></a>Separate GwtTest tests from standard unit tests</h3>
<p>Because you will likely want to run <b>both</b> Surefire and gwt-maven-plugin based tests (for regular server side JUnit tests with Surefire, and for client model and controller tests with GWT) you need to distinguish these tests from each other. This is done using a naming convention.</p>
<p>You can configure the Surefire plugin (responsible for running tests during maven build) to skip the GwtTests using some naming patterns :</p>
<div class="source">
<pre>  &lt;plugin&gt;
    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
    &lt;version&gt;2.6&lt;/version&gt;
    &lt;configuration&gt;
      &lt;excludes&gt;
        &lt;exclude&gt;**/*GwtTest.java&lt;/exclude&gt;
      &lt;/excludes&gt;
    &lt;/configuration&gt;
  &lt;/plugin&gt;</pre></div>
<p>A simpler way to separate classic and GWT tests is to name latests <tt>GwtTest&quot;Something&quot;.java</tt>. As surefire looks for tests that are named <tt>Something&quot;Test&quot;.java</tt> by default, they will be ignored during <tt>test</tt> phase.</p>
<p>By default, the gwt-maven-plugin uses <tt>GwtTest*.java</tt> as inclusion pattern so that such testst will <b>not</b> match the standard Surefire pattern. Using this convention you don't have to change your configuration.</p>
<p>To configure the plugin to use another naming convention, set the <tt>includes</tt> plugin parameter.</p>
<div class="source">
<pre>  &lt;plugin&gt;
    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
    &lt;artifactId&gt;gwt-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;2.8.0-SNAPSHOT&lt;/version&gt;
    &lt;configuration&gt;
      &lt;includes&gt;**/CustomPattern*.java&lt;/includes&gt;
    &lt;/configuration&gt;
    &lt;executions&gt;
      &lt;execution&gt;
        &lt;goals&gt;
          &lt;goal&gt;test&lt;/goal&gt;
        &lt;/goals&gt;
      &lt;/execution&gt;
    &lt;/executions&gt;
  &lt;/plugin&gt;</pre></div></div>
<div class="section">
<h3><a name="Test_results_output"></a>Test results output</h3>
<p>The plugin use the standard Surefire testrunner, and contributes to execution report. If you use the surefire-report-plugin, you will see the GwtTests result included in generated project site.</p></div>
<div class="section">
<h3><a name="About_GwtTestSuite"></a>About GwtTestSuite</h3>
<p>The <a class="externalLink" href="http://www.gwtproject.org/doc/latest/DevGuideTesting#DevGuideJUnitSuites">Official GWT documentation</a> on TestSuites suggest to grouping your GWT tests in a suite by extending GwtTestSuite. Maven will not be able to run such a Suite. The snippet below is what will allow both the Eclipse Junit Runner and Maven to run the test cases.</p>
<div class="source">
<pre>  public class MyGwtTestSuite extends TestCase /*note this is TestCase and not TestSuite */
  {
      public static Test suite()
      {
          GwtTestSuite suite = new GwtTestSuite( &quot;All Gwt Tests go in here&quot; );
          suite.addTestSuite( GwtTest1.class );
          return suite;
      }</pre></div></div>
<div class="section">
<h3><a name="Use_GWTTestSuite_padawan"></a>Use GWTTestSuite padawan</h3>
<p><a class="externalLink" href="http://google-web-toolkit.googlecode.com/svn/javadoc/latest/com/google/gwt/junit/client/GWTTestCase.html"><tt>GWTTestCase</tt></a> derived tests are slow. This is because the JUnitShell has to load the module for each test (create the shell, hook into it, etc). <a class="externalLink" href="http://google-web-toolkit.googlecode.com/svn/javadoc/latest/com/google/gwt/junit/tools/GWTTestSuite.html"><tt>GWTTestSuite</tt></a> mitigates this by grouping all the tests that are for the same module (those that return the same value for getModuleName) together and running them via the same shell instance.</p>
<p>This is a <b>big</b> time saver, and <tt>GWTTestSuite</tt> is easy to use, so using it is a good idea. For this reason, the default value of the test inclusion pattern is <tt>**/Gwt*Suite.java</tt>.</p>
<p>We recommend to name your test suite <tt>GwtTestSuite.java</tt> so that the test filter picks it up, but name the actual tests with a convention that Surefire will ignore by default - something that does <b>not</b> start with <tt>GwtTest</tt>, and does <b>not</b> start <i>or</i> end with <tt>Test</tt>. For example <tt>MyClassTestGwt.java</tt>. This way, gwt-maven-plugin picks up the <tt>Suite</tt>, and runs it, but does not also run individual tests (and Surefire does not pick it up either)</p></div>
<div class="section">
<h3><a name="testing_modes"></a>testing modes</h3>
<p>GWTTestCase uses HTMLUnit to run your code. <a class="externalLink" href="http://htmlunit.sourceforge.net/">HTMLUnit</a> doesn't provide a full browser with GUI components, but is 100% Java based so it doesn't require a native process and can run in your favorite debugger. Please note this is only emulation, always validate test results with a real browser.</p>
<p>By default, tests run in DevMode. As an option, you can run your code compiled to JavaScript instead of using the dev mode bridge between Java and JavaScript, using the <tt>productionMode</tt> parameter. GWT Team suggest that you run your tests in both modes to detect <a class="externalLink" href="http://www.gwtproject.org/doc/latest/DevGuideCodingBasicsCompatibility">differences between Java and JavaScript</a>. You may configure your continuous integration server with <tt>-Dgwt.test.prod=true</tt> system property to check this.</p></div>
<div class="section">
<h3><a name="testing_with_real_browsers"></a>testing with &quot;real&quot; browsers</h3>
<p>Running headless is usefull, but when it fails you'll need to see what happen and use your own browser. In such case, use the manual mode using the <tt>mode</tt> parameter (or <tt>gwt.test.mode</tt> system property) to &quot;manual&quot;. GWT will then print a URL to access from your browser.</p>
<p>You may also want to test your code on various browser, not just the hosted mode embeded one. You then need a remote browser available for testing. See <a class="externalLink" href="http://www.gwtproject.org/doc/latest/DevGuideTestingRemoteTesting">GWT documentation</a> for more explanations.</p>
<p>Selenium mode can be used for running your test suite on real browsers using Selenium RC. Set the <tt>mode</tt> parameter (or <tt>gwt.test.mode</tt> system property) to &quot;selenium&quot;. Don't forget to configure the <tt>selenium</tt> parameter with the host running the Selenium RC browser:</p>
<div class="source">
<pre>  &lt;plugin&gt;
    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
    &lt;artifactId&gt;gwt-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;2.8.0-SNAPSHOT&lt;/version&gt;
    &lt;configuration&gt;
      &lt;selenium&gt;myhost:4444/*firefox&quot;&lt;/selenium&gt;
    &lt;/configuration&gt;
  &lt;/plugin&gt;</pre></div></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                    2007-2015
                        <a href="http://codehaus.org">Codehaus</a>.
            All Rights Reserved.      
                    
      </div>

        
        
          
    
    
                
    <div id="ohloh" class="pull-right">
      <script type="text/javascript" src="http://www.ohloh.net/p/5211/widgets/project_thin_badge.js"></script>
    </div>
        </div>
    </footer>
  </body>
</html>
