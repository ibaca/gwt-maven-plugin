<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2015-06-14
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20150614" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Mojo's Maven Plugin for GWT &#x2013; Project organisation</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="../.." id="bannerLeft">
                                                                                                <img src="../../images/mojo_logo.png"  alt="Mojo"/>
                </a>
                      </div>
        <div class="pull-right">                  <a href="http://github.com/gwt-maven-plugin/gwt-maven-plugin" id="bannerRight">
                                                                                        <img src="http://gwt-maven-plugin.github.com/gwt-maven-plugin/images/gwt-maven-logo.png"  alt="Github"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                              <li class="">
                    <a href="http://codehaus.org/" class="externalLink" title="Codehaus">
        Codehaus</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href="http://mojo.codehaus.org/" class="externalLink" title="Mojo">
        Mojo</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href="../" title="Mojo's Maven Plugin for GWT">
        Mojo's Maven Plugin for GWT</a>
        </li>
      <li class="divider ">/</li>
        <li class="">Project organisation</li>
        
                
                    
                  <li id="publishDate" class="pull-right">Last Published: 2015-06-14</li> <li class="divider pull-right">|</li>
              <li id="projectVersion" class="pull-right">Version: 2.8.0-SNAPSHOT</li>
            
                                            <li class="divider pull-right">|</li>
                        
    <li class="pull-right">              <a href="https://developers.google.com/eclipse/" class="externalLink" title="Google Plugin for Eclipse">
        Google Plugin for Eclipse</a>
  </li>

        <li class="divider pull-right">|</li>
      
    <li class="pull-right">              <a href="http://www.gwtproject.org/" class="externalLink" title="GWT Project">
        GWT Project</a>
  </li>

        <li class="divider pull-right">|</li>
      
    <li class="pull-right">              <a href="http://maven.apache.org/" class="externalLink" title="Maven">
        Maven</a>
  </li>

                        </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">User Guide</li>
                                
      <li>
    
                          <a href="../index.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                  
      <li>
    
                          <a href="../whats_new.html" title="What's new in 2.8.0-SNAPSHOT">
          <i class="none"></i>
        What's new in 2.8.0-SNAPSHOT</a>
            </li>
                  
      <li>
    
                          <a href="../user-guide/archetype.html" title="Using the archetype">
          <i class="none"></i>
        Using the archetype</a>
            </li>
                  
      <li class="active">
    
            <a href="#"><i class="none"></i>Project organization</a>
          </li>
                  
      <li>
    
                          <a href="../user-guide/compile.html" title="Compile and Debug">
          <i class="none"></i>
        Compile and Debug</a>
            </li>
                  
      <li>
    
                          <a href="../user-guide/i18n.html" title="Internationalization">
          <i class="none"></i>
        Internationalization</a>
            </li>
                  
      <li>
    
                          <a href="../user-guide/testing.html" title="Testing">
          <i class="none"></i>
        Testing</a>
            </li>
                  
      <li>
    
                          <a href="../user-guide/hosted.html" title="Run Dev Mode">
          <i class="none"></i>
        Run Dev Mode</a>
            </li>
                  
      <li>
    
                          <a href="../user-guide/async.html" title="Async interfaces">
          <i class="none"></i>
        Async interfaces</a>
            </li>
                  
      <li>
    
                          <a href="../user-guide/comfortable_debugging.html" title="Comfortable debugging">
          <i class="none"></i>
        Comfortable debugging</a>
            </li>
                  
      <li>
    
                          <a href="../user-guide/productivity.html" title="Productivity Tips">
          <i class="none"></i>
        Productivity Tips</a>
            </li>
                  
      <li>
    
                          <a href="../user-guide/appengine-launcher.html" title="Using AppEngine launcher in dev mode">
          <i class="none"></i>
        Using AppEngine launcher in dev mode</a>
            </li>
                  
      <li>
    
                          <a href="../user-guide/css-interface-generator.html" title="Using the CSS Interface Generator">
          <i class="none"></i>
        Using the CSS Interface Generator</a>
            </li>
                  
      <li>
    
                          <a href="../eclipse/google_plugin.html" title="Google Plugin for Eclipse">
          <i class="none"></i>
        Google Plugin for Eclipse</a>
            </li>
                  
      <li>
    
                          <a href="../user-guide/library.html" title="Writing a Library">
          <i class="none"></i>
        Writing a Library</a>
            </li>
                  
      <li>
    
                          <a href="../user-guide/compiler-report.html" title="Compiler Report">
          <i class="none"></i>
        Compiler Report</a>
            </li>
                  
      <li>
    
                          <a href="../user-guide/remoteservicerelativepath-annotation.html" title="Processing Annotation @RemoteServiceRelativePath">
          <i class="none"></i>
        Processing Annotation @RemoteServiceRelativePath</a>
            </li>
                  
      <li>
    
                          <a href="../user-guide/using-different-gwt-sdk-version.html" title="Using a different GWT SDK Version">
          <i class="none"></i>
        Using a different GWT SDK Version</a>
            </li>
                              <li class="nav-header">Reference</li>
                                
      <li>
    
                          <a href="../plugin-info.html" title="Goals">
          <i class="none"></i>
        Goals</a>
            </li>
                  
      <li>
    
                          <a href="../faq.html" title="FAQ">
          <i class="none"></i>
        FAQ</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                        
      <li>
    
                          <a href="../project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                                                                                                                                                                      
      <li>
    
                          <a href="../project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                            <form id="search-form" action="http://www.google.com/search" method="get" >
    
  <input value="mojo.codehaus.org" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=search-form"></script>
          
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <div class="section">
<h2><a name="Project_organization"></a>Project organization</h2>
<div class="section">
<h3><a name="Conventions"></a>Conventions</h3>
<p>Compared to <a class="externalLink" href="http://www.gwtproject.org/doc/latest/DevGuideOrganizingProjects#DevGuideDirectoriesPackageConventions">GWT Documentation</a> on directory layout, the plugin follows Maven conventions:</p>
<p><tt></tt></p><img src="../images/user-guide/projectLayout.png" alt="" />
<p>Compared to the directory layout used by GWT, notice that the <tt>/war</tt> folder is replaced by the <tt>src/main/webapp</tt> folder, following <a class="externalLink" href="http://maven.apache.org/plugins/maven-war-plugin/">maven-war-plugin</a> conventions. The project structure generated by the gwt-maven-plugin archetype allready includes the adequate Google Plugin for Eclipse configuration. If you manually migrate a GWT project to Maven, you will need to configure the Google Plugin for Eclipse to use this folder.</p>
<p><tt></tt></p><img src="../images/user-guide/GEP-war.png" alt="" /></div>
<div class="section">
<h3><a name="POM_configuration"></a>POM configuration</h3>
<p>In order to use gwt-maven-plugin, you will need to configure it using the <tt>plugins</tt> section of your POM.</p>
<p>You also need to include the GWT dependencies in your POM, and use the adequate gwt-maven-plugin version. The plugin will check this version and warn if you try to use inconsistent releases.</p>
<div class="source">
<pre>  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;com.google.gwt&lt;/groupId&gt;
      &lt;artifactId&gt;gwt-servlet&lt;/artifactId&gt;
      &lt;version&gt;2.8.0-SNAPSHOT&lt;/version&gt;
      &lt;scope&gt;runtime&lt;/scope&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;com.google.gwt&lt;/groupId&gt;
      &lt;artifactId&gt;gwt-user&lt;/artifactId&gt;
      &lt;version&gt;2.8.0-SNAPSHOT&lt;/version&gt;
      &lt;scope&gt;provided&lt;/scope&gt;
    &lt;/dependency&gt;
  &lt;dependencies&gt;

  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
        &lt;artifactId&gt;gwt-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;2.8.0-SNAPSHOT&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;goals&gt;
              &lt;goal&gt;compile&lt;/goal&gt;
              &lt;goal&gt;generateAsync&lt;/goal&gt;
              &lt;goal&gt;test&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;</pre></div>
<p>Note : Don't define <tt>gwt-dev</tt> as project dependency : this JAR only contains gwt SDK tools and has many common libraries packaged that may conflict with the ones defined for your project, resulting in uncomprehensible <tt>NoSuchMethodError</tt>s. The gwt-maven-plugin will automagically resolve the required dependency and add it to classpath when lauching GWT tools.</p></div>
<div class="section">
<h3><a name="Multi-project_setup"></a>Multi-project setup</h3>
<p>Large Maven projects often are divided into sub-projects. This section describe the maven configuration needed to use such layout on GWT projects with gwt-maven-plugin. If you're not familiar with multi-module layout, please read first the <a class="externalLink" href="http://maven.apache.org/guides/introduction/introduction-to-the-pom.html#Project_Aggregation">related maven documentation</a>.</p>
<p><b>NOTE</b> that GWT also has a notion of <a class="externalLink" href="http://www.gwtproject.org/doc/latest/DevGuideOrganizingProjects#DevGuideModules">module</a>. Both Maven and GWT use the term <i>module</i> to define units of modularization. To a degree both concepts go hand in hand, as gwt-modules define boundaries at which Maven-modules might be cut. To not confuse these two terms though, for the rest of this section we will use the term <b>module</b>, if we talk about <b>GWT</b>-modules, in contrast to the term <b>project</b>, if we talk about <b>Maven</b>-modules.</p>
<p>First, we will setup a basic Maven project structure consisting of two sub-projects: one containing domain code and another one containing the actual GWT application. Like other web application, a common pattern is to separate GUI functionality from domain functionality (among others) :</p>
<div class="source">
<pre>parent/                                     (aggregating parent project)
|- pom.xml
|
|- domain/                                      (domain code, etc.; packaging: JAR)
|  |- pom.xml
|  \- src/main/java/
|     \- org/codehaus/mojo/domain
|        \- User.java
|
\- webapp/                                      (GUI code; packaging: WAR)
   |- pom.xml
   \- src/
      |- main/java/
      |  \ -org/codehaus/mojo/ui/
      |     |- Hello.gwt.xml
      |     \- client/Hello.java
      \- main/webapp/
         \- WEB-INF/web.xml</pre></div>
<p>To convert the domain project to a valid GWT module, we add a module descriptor <tt>Domain.gwt.xml</tt> to the <tt>domain</tt> project that we can extend from our webapp <tt>Hello</tt> module.</p>
<div class="source">
<pre>|- domain/
|  |- pom.xml
|  \- src/main/java/
|     \- org/codehaus/mojo/domain/
|        \- User.java
|  \- src/main/resources/
|     \- org/codehaus/mojo/
|        \- Domain.gwt.xml                          (Additionnal gwt.xml module file)</pre></div>
<div class="source">
<pre>&lt;module&gt;
  &lt;inherits name=&quot;com.google.gwt.user.User&quot;/&gt;
  &lt;source path=&quot;domain&quot;/&gt;
&lt;/module&gt;
</pre></div>
<p>The domain project it not yet a valid GWT module : GWT compiler requires Java source files.</p>
<p>First option is to use the <a href="../resources-mojo.html">gwt:resources</a> or <a href="../source-jar-mojo.html">gwt:source-jar</a> goals to attach java sources and resources in the generated jar. The side effect is that this jar will include java sources, that may not be what you want to do if you use it elsewhere, typically in the webapp servlets.</p>
<p>Second option is to configure Maven to <a class="externalLink" href="http://maven.apache.org/plugins/maven-source-plugin/usage.html">package a source-jar</a> for domain project. In the <tt>webapp</tt> project, configure gwt-maven-plugin to use it as additional source for the domain dependency :</p>
<div class="source">
<pre>  &lt;plugin&gt;
    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
    &lt;artifactId&gt;gwt-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;2.8.0-SNAPSHOT&lt;/version&gt;
    &lt;executions&gt;
        ...
    &lt;/executions&gt;
      &lt;configuration&gt;
        &lt;compileSourcesArtifacts&gt;
          &lt;artifact&gt;org.codehaus.mojo:domain&lt;/artifact&gt;
        &lt;/compileSourcesArtifacts&gt;
      &lt;/configuration&gt;
  &lt;/plugin&gt;
</pre></div></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                    2007-2015
                        <a href="http://codehaus.org">Codehaus</a>.
            All Rights Reserved.      
                    
      </div>

        
        
          
    
    
                
    <div id="ohloh" class="pull-right">
      <script type="text/javascript" src="http://www.ohloh.net/p/5211/widgets/project_thin_badge.js"></script>
    </div>
        </div>
    </footer>
  </body>
</html>
